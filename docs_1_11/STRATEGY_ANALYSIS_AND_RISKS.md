# 策略风险分析报告与解答 / Strategy Analysis & Q&A

**生成时间**: 2026-01-11
**针对问题**: 
1. 当前的“微调策略”是否过于激进？
2. 是否会因为过分强调楼梯行走（高角速度惩罚），导致损害抗干扰（Task 2.3）和速度跟随（Task 2.2）的能力？
3. 参数 `rew_ang_vel_z_precise = 5.0` 是否太大？

---

## 1. 核心解答：这是否会损害 Task 2.3（抗摔）？

**答案：是的，单一模型下会有冲突，但我们目前的策略是“专人专用”（Specialist）或“最后融合（Fusion）”。**

### 为什么会有冲突？
*   **Task 2.4 (楼梯)** 要求机器人像走钢丝一样“死板”：绝对不能偏离直线，任何Yaw轴的转动都意味着可能掉下台阶。所以我们给了 `weight = 5.0` 的巨额惩罚。
*   **Task 2.3 (抗摔)** 要求机器人“柔顺”：当被侧向猛推一把时，机器人可能需要顺势转个身（Yaw轴偏转）来卸力，或者侧着走两步来维持平衡。
*   **风险**：如果带着 `weight = 5.0` 的惩罚去抗摔，机器人可能会为了不转身而选择硬抗，结果就是直接摔倒；或者是被推转后，Critic网络认为“完了，转了身就要扣大分”，导致放弃治疗。

### 并不是“死局”，我们的对策是什么？
你 currently 正在进行的是 **Fine-tuning（微调）** 阶段。
*   **阶段目标**：专门攻克 Task 2.4 的楼梯难题。如果不这么做，楼梯根本过不去。
*   **你的底牌**：
    1.  你手头应该还有一个 **Base Model (Unified/Rough 之前的 checkpoint)**。那个模型可能在平地和抗摔上表现不错，但爬不了楼梯。
    2.  现在的 **Stair Model**。它爬楼梯很强，但可能抗摔变弱。
*   **最终提交策略**：
    *   **策略 A (切换法)**：如果比赛允许，检测到楼梯用模型 A，平地用模型 B。
    *   **策略 B (融合训练 - 下一步)**：当你有了这个“除了抗摔不行，其他都行”的楼梯模型后，我们可以再把 Task 2.3 的推力加回来，用较小的学习率（Low LR）进行**全场景恢复训练**。那时候，机器人已经学会了怎么爬楼梯（肌肉记忆），再学抗摔就容易多了。

---

## 2. 关于参数激进度的分析

### `rew_ang_vel_z_precise.weight = 5.0`
*   **评价**：这是一个**非常激进**的值（通常 PPO 里的权重在 0.5 - 1.0 之间）。
*   **必要性**：在 Mesh 物理引擎的楼梯上，这是“矫枉过正”的必要手段。因为之前的模型已经养成了“爱转圈”的坏毛病，必须用重锤敲回来。
*   **后续调整**：一旦机器人学会了走直线（大概几百个迭代后），我们可以逐渐把这个值降回 `1.0` 或 `2.0`，以恢复它的柔顺性。**现在的激进是为了纠错。**

### `pen_joint_torque` (扭矩惩罚) 降低
*   **评价**：这是有利的修改。爬楼梯和抗大推力都需要大扭矩。这个修改对 Task 2.3 也是**有利的**。

---

## 3. 推荐的后续步骤

不要担心现在把模型“练废了”。强化学习的模型是可以**回炉重造**的。

1.  **Current (现在)**: 保持 `weight=5.0`，只看它能不能直着爬上楼梯。这是 0 到 1 的突破。
2.  **Next (下一步)**: 确认能爬上去了，但发现抗摔不行。
3.  **Future (未来)**:
    *   载入这个“能爬楼梯”的模型。
    *   改回 `PFUnifiedEnvCfg`（全能环境）。
    *   把 `weight` 降回 `2.0`。
    *   打开 `push_robot` 推力开关。
    *   机器人会发现：“夷，我本来就会爬楼梯，现在只要注意别被推倒就行”。这比让它同时学两样东西要快得多。

**总结**：你现在的焦虑是非常专业的思考，但请放心，这是分步走的正确战术。先在这个“魔鬼特训营”里学会爬楼梯，再回到“综合训练场”去复习抗摔。
