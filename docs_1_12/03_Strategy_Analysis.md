# 项目策略分析：为什么采取 "Flat -> Disturbance -> Stairs" 路线？

## 1. 用户疑问
> “理论上我们不是应该先训练全能地形 (Rough Terrain / Mixed) 让他有个大概体验，再专精楼梯吗？”

## 2. 深度解析：针对“盲视爬楼梯”的特殊性

这是一个非常好的直觉，对于大多数 RL 任务（如四足机器人 ANYmal），通常确实是先混合地形再微调。
但是，对于**LimX PointFoot 这样的双足机器人进行盲视 (Blind) 爬楼梯**，传统的“先泛化后专精”往往会失败。原因如下：

### A. 通用地形的陷阱 (The Trap of Generalization)
*   **混合地形 (Mixed Terrain)** 包含波浪路、乱石阵等。
*   在这些地形上，最优策略往往是 **"Compliance" (顺从)**：腿要软，脚要贴地滑行，以适应凹凸不平的地面。
*   **然而，楼梯需要完全相反的策略**：
    *   **高抬腿 (High Stepping)**：必须抬得比台阶高，否则必定踢到台阶边缘（Toe-tripping）。
    *   **精准落足 (Precise Landing)**：脚必须扎实地踩在台阶面上。

**如果先训练混合地形**，机器人会学到“贴地走”的坏习惯。
当它带着这个习惯上楼梯时，会反复踢到台阶边缘。由于它是盲视的（看不见台阶高度），它不知道为什么要抬腿，导致训练陷入局部极小值（Local Minima）——即认为“往前走就是死路”，最后学会了原地站着不动。

### B. 课程学习 (Curriculum Learning) 的优越性

我们采用的路线是 **Flat -> Disturbance -> Stairs**：

1.  **Task 2 (Flat)**:
    *   **目的**：建立完美的**Stride (步幅)** 和 **Heading (航向)**。
    *   **收益**：确保机器人在上楼梯前，至少不会因为自己走歪了掉下来。

2.  **Task 3 (Push/Disturbance)**:
    *   **目的**：建立**Recovery (恢复能力)**。
    *   **收益**：在楼梯上踏空或打滑是常事。Task 3 训练出的“快速碎步调整”能力，能救它一命。

3.  **Task 4 (Stairs)**:
    *   **目的**：**Gait Adaptation (步态重塑)**。
    *   **方法**：我们在 Phase 3 会修改奖励函数，**能够大幅增加 `rew_lin_vel_z` (垂直速度) 的宽容度**，甚至给予抬腿奖励。
    *   **结果**：机器人会在 Phase 2 稳健行走的基础上，学到“在遇到障碍物（台阶）被绊住时，应该用力抬腿而不是用力推”。

## 3. 结论
针对 **Blind Bipedal Stair Climbing (盲视双足爬楼)** 这一极高难度任务：
*   **泛化 -> 专精**：容易导致步态过低，难以逾越台阶高度门槛。
*   **专精 -> 迁移**：(我们的方案) 先练就金刚不坏之身 (Task 2/3)，再针对性地学习“跨越”动作 (Task 4)，不仅成功率更高，而且最终步态更从容，不会出现奇怪的扭曲姿态。
